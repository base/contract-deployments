SOLANA_VERSION=1.17.25
ANCHOR_VERSION=0.29.0

# Variables for cloning the MCM repo
MCM_REPO=https://github.com/smartcontractkit/chainlink-ccip.git
MCM_AUDITED_COMMIT=0ee732e80586c2e9df5e9b0c3b5e9a19ee66b3a1
INVOKE_SIGNED_PATCH=patches/invoke_signed.patch
EIP712_PATCH=patches/eip712.patch
SIMPLIFY_EIP712_PATCH=patches/simplify_eip712.patch
ID_PATCH=patches/id.patch

##
# Common MCM Proposal Variables
##

# MCM program ID (base58 encoded)
MCM_PROGRAM_ID=Ea5qsVs2kwQXi7LMAh3Qg5YKpuPQbW7oqvYaPXUwBwoX

# MCM multisig ID (32 bytes hex with 0x prefix)
MCM_MULTISIG_ID=0x0000000000000000000000000000000000000000000000000000000000000000

# MCM authority address (derived PDA, base58 encoded)
MCM_AUTHORITY=2N9nKVFPHsBVazniiYNxECB2nPLcwjk3dHAJH9tkr2xQ

# Timestamp until which the proposal is valid and can be executed
MCM_VALID_UNTIL=1761205094 # Thu Oct 23 2025 07:38:14 GMT+0000

# Set to true if you want to override the previous root when registering the proposal
# If set to true, it allows to override the (proposal) root even if there are outstanding operations left to execute in the previous proposal
MCM_OVERRIDE_PREVIOUS_ROOT=true

# Total number of signatures required to execute the proposal
MCM_SIGNATURES_COUNT=3

# MCM proposal signatures
MCM_SIGNATURES=0x305cff8f6f0bd75072e89ef248e2967a3d56624f90680c0c6899e0bea9d8443925daff694fe183e2607b28d18851eed0140c20b0d7f2602cefe43b082de7a3251b,0xa0571c429d743adf885d635f7f642305e74697fc99124891e19a0f952c718d9f3a04e01a67d9ac7edc28816ec9d989f1c70d1e8a28cb5c5912272a89546d7c901b,0x6827bec27f217288ff13cf21bfaf7df9534a8eedf9fa53fa81fd8968afce1cd32b1c8d7bc626ff72bda6fff0aec2f2131935a2178edde82c09fff7aaf185f2801b

# Output file for the MCM proposal
MCM_PROPOSAL_OUTPUT=proposal.json

# Authority account that will sign and submit MCM transactions
AUTHORITY=~/.config/solana/id.json

##
# MCM Proposal Variables Specific to Program Upgrade
##

# Program address to upgrade
PROGRAM=$(MCM_PROGRAM_ID)

# Buffer address containing the new program data (obtained from 'make write-buffer')
BUFFER=FsfzjZQu5MUAuZybaNNEkQbbzgKExUdGNFEbTohBGJGn

# Spill account address to receive refunded lamports
SPILL=2aWsUTRfJu2hPNUYHaYJjm6C3SVPqXjtoxu2VgBXsd72 # Payer address

##
# Variables for managing the temporary buffer
##

# Path to the compiled program binary (.so file)
PROGRAM_BINARY=./chainlink-ccip/chains/solana/contracts/target/deploy/mcm.so

# New buffer authority (MCM authority)
NEW_BUFFER_AUTHORITY=$(MCM_AUTHORITY)

# Signature of the set-buffer-authority transaction
SET_BUFFER_AUTHORITY_SIGNATURE=4a2Wnni9JcVibkaoKKe27uXxMZ5sRK3nsWPj6tVs4kX86qt8kqeFbnzRDXYCdWBp1ruHUDzzoTq3FE5McKj19wJ